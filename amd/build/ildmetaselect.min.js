define(["jquery","core/ajax"],function(a,b){function c(b){var c=JSON.parse(b.university),e=JSON.parse(b.subjectarea),f=JSON.parse(b.courselanguage),g=JSON.parse(b.processingtime),h=JSON.parse(b.starttime),i=a("select[name=subjectarea]"),j=a("select[name=university]"),k=a("select[name=courselanguage]"),l=a("select[name=processingtime]"),m=a("select[name=starttime]");d(j,c,j.find("option:selected").text()),d(i,e,i.find("option:selected").text()),d(l,g,l.find("option:selected").text()),d(m,h,m.find("option:selected").text()),d(k,f,k.find("option:selected").text())}function d(b,c,d){var e;b.empty(),a.each(c,function(c,f){var g=f.split("=>"),h=a("<option></option>").attr("value",g[0]);d==g[1]&&(e=g[0]),h.text(g[1]),"-"!=g[0]&&0!=g[0]||h.attr("disabled","disabled"),b.append(h)}),b.val(e)}function e(){var d=a("select[name=subjectarea]").val(),e=a("select[name=university]").val(),f=a("select[name=courselanguage]").val(),g=a("select[name=processingtime]").val(),h=a("select[name=starttime]").val();null===d&&(d=0),null===e&&(e=0),null===f&&(f=0),null===g&&(g="-"),null===h&&(h="-");var i=b.call([{methodname:"blocks_ildmetaselect_getfilter",args:{subjectarea:d,university:e,courselanguage:f,processingtime:g,starttime:h}}]);i[0].done(function(a){c(a)})}var f=!1;return{init:function(){f||(f=!0,a("select[name=subjectarea]").change(function(){e()}),a("select[name=university]").change(function(){e()}),a("select[name=courselanguage]").change(function(){e()}),a("select[name=processingtime]").change(function(){e()}),a("select[name=starttime]").change(function(){e()}))}}});